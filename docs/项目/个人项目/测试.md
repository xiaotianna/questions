# 测试

## 单元测试

**测试库选择对比**：vitest 与 jest 对比

- **构建和执行速度**
  - Vitest 基于 Vite 构建，充分利用了 Vite 的 ESM 原生支持和 esbuild 预构建能力，支持多线程并行测试，性能优势明显
  - Jest 需要额外的 babel 配置来处理模块转换，执行速度相对较慢
- **配置复杂度**
  - Vitest 可以直接复用 Vite 的配置，减少重复配置，对 TypeScript、JSX 等现代特性开箱即用
  - Jest 需要独立的配置文件

> 项目使用 `vite` 构建，能与 `vite` 更好的配合，因此选择 `vitest` 作为测试库。

**测试内容：**

1.  组件渲染测试

    - 正确渲染
    - 属性传递
    - 事件处理
    - 状态更新
    - 功能测试

2.  编辑器核心功能

    - 快捷键功能
    - 本地存储
    - 主题切换

3.  hooks
4.  utils

## 端到端测试

**测试功能：**

1. 基础编辑功能：
   - 文本输入和显示
2. 工具栏功能：
   - 各种格式化按钮（加粗、斜体等）
   - 文件操作（导入、导出）
   - 撤销/重做
3. 同步滚动：
   - 编辑器和预览区域的滚动同步
   - 滚动到顶部功能
4. 主题切换：
   - 明暗主题切换
5. 复制代码功能：
   - 代码块复制按钮显示
   - 复制功能正常工作
