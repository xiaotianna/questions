# 进程和线程

## 面试题 1：进程、线程和协程的定义

### 1、何为进程？

程序运行需要有它自己专属的内存空间，这个空间就是进程。

每个应用至少有一个进程，**进程之间相互独立**，即使要通信，也需要双方同意。

### 2、何为线程？

一个进程 `至少` 有一个线程，所以在进程开启后会自动创建一个线程来**运行代码**，该线程称之为 `主线程`。主线程结束，整个程序也就结束了。

> 有了进程后，就可以运行程序的代码了，运行代码的「人」称之为「线程」。

如果程序需要**同时执行多块代码**，主线程就会启动更多的线程来执行代码，所以一个进程中可以包含多个线程。

### 3、何为协程？

## 面试题 2：浏览器包含的进程

- `brower进程`：浏览器主进程、负责界面显示、用户交互，创建和销毁的进程，网络资源下载
- `gpu进程`：用于 3d 绘制
- `第三方插件`：管理插件的进程
- `浏览器渲染进程`：由浏览器内核提供，默认是多线程，负责页面渲染，脚本执行，事件处理
  - `gui线程`：
    - 渲染页面，解析 html 生成 DOM、css 生成 CSSOM，DOM 和 CSSOM 生成渲染树，布局和绘制页面
    - 重绘和回流时该线程执行
    - **与 js 引擎相互排斥**，js 执行时，gui 进入阻塞状态，直到 js 执行完毕，才回到 gui 线程继续执行
  - `js线程`：
    - 执行 js 代码，包括 dom 操作
    - 一直处于等待状态，直到 gui 线程执行完毕，才回到 js 线程继续执行（有 js 脚本优先执行，所以 js 会阻塞渲染）
  - `事件触发线程`：
    - 用于控制事件循环
  - `定时器线程`：
    - 用于控制定时器
  - `异步请求线程`：
    - 用于控制异步请求

## 面试题 3：浏览器渲染进程

由浏览器内核提供，默认是多线程，负责页面渲染，脚本执行，事件处理

- `gui线程`：
  - 渲染页面，解析 html 生成 DOM、css 生成 CSSOM，DOM 和 CSSOM 生成渲染树，布局和绘制页面
  - 重绘和回流时该线程执行
  - **与 js 引擎相互排斥**，js 执行时，gui 进入阻塞状态，直到 js 执行完毕，才回到 gui 线程继续执行
- `js（引擎）线程`：
  - 执行 js 代码，包括 dom 操作
  - 一直处于等待状态，直到 gui 线程执行完毕，才回到 js 线程继续执行（有 js 脚本优先执行，所以 js 会阻塞渲染）
- `事件触发线程`：
  - 用于控制事件循环
- `定时器线程`：
  - 用于控制定时器
- `异步请求线程`：
  - 用于控制异步请求
